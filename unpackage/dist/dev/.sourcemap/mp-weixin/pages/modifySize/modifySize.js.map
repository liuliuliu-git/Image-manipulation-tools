{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/dell/Desktop/ms_stu_pro_lrb/pages/modifySize/modifySize.vue?9d41","webpack:///C:/Users/dell/Desktop/ms_stu_pro_lrb/pages/modifySize/modifySize.vue?1ebd","webpack:///C:/Users/dell/Desktop/ms_stu_pro_lrb/pages/modifySize/modifySize.vue?6216","uni-app:///pages/modifySize/modifySize.vue","webpack:///C:/Users/dell/Desktop/ms_stu_pro_lrb/pages/modifySize/modifySize.vue?288a","webpack:///C:/Users/dell/Desktop/ms_stu_pro_lrb/pages/modifySize/modifySize.vue?060a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","ctx","imgUrl","clipUrl","dpi","sizeArr","currentScale","content","imgWidth","imgHeight","setShow","width","height","format","type","trigger","methods","initCanvas","getSystemInfo","uni","success","console","setBgBox","screenWidth","goBack","toChooseSize","url","replace","count","sizeType","sourceType","src","canvasHeight","scale","ceil","magnify","shrink","set","clipImage","title","x","y","destWidth","destHeight","canvasId","fail","jpgClick","pngClick","getDataApi","isHot","i","isChecked","resolve","reject","onTouchStart","onTouchMove","onTouchEnd","changeChecked","cancel","submit","putSizeApi","components","sizeSpecification","computed","onReady","onLoad","define","imageName","widthpx","heightpx","map"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,mTAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAomB,CAAgB,8nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;AC+GxnB;AAKA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EAEAC;IAAA;IACA;MACAC;MAAA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;IAAA,8CACA,qDACA,oDACA;MACAC;MACAC;MACAR;MACAS;IACA,wDACA,yDACA,mDACA,mDAEA,mDACA,kDACA,kDACA,6CAEA,6CACA,uDACA,uDAEA,qDACA;MACA;QACAC;QACAC;MACA;MACA;QACAD;QACAC;MACA;MACA;QACAD;QACAC;MACA;IACA;EAIA;EACAC;IACAC;MACA;IACA;IACAC;MAAA;MACAC;QACAC;UACAC;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA,IACAd,WAGA,KAHAA;QACAC,YAEA,KAFAA;QACAc,cACA,KADAA;MAEAF;MACA;MACA;MACApB;MACA;MACAA;MACA;MACAA;MACA;MACAA;MACA;MACA;MACA;MACA;QACA;QACAA;QACA;QACAA;QACAA;QACAA,uDACAQ;QACAR;QACAA;MACA;QACA;QACAA;QACA;QACAA;QACAA;QACAA,uDACAQ;QACAR;QACAA;MACA;IAEA;IACA;IACAuB;MACAL;IACA;IAEA;IACAM;MACAN;QACAO;MACA;IACA;IACA;IACAC;MAAA;MACAR;QACAS;QACAC;QAAA;QACAC;QAAA;QACAV;UACA;UACAD;YACAY;YACAX;cACA;cACA;cACA;cACA;cACA,8DACA,OACAY,eACA;cACA,wDACAxB,kBACAyB,SACA;cACA,yDACAxB,mBACAwB,SACA;cACAZ;cACA;cACA;cACA;cACA;cACA,yEACAa,gEACAzB,oBACAwB;cACA;YACA;UACA;QAEA;MACA;IACA;IACAE;MACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;MAEA,iEACAD,2BACAD,qEACAA;MACA;IACA;IACAG;MACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;MAEA,iEACAF,2BACAD,qEACAA;MACA;IACA;IACA;IACAI;MACA;IAEA;IACA;IACAC;MAAA;MACAnB;QACAoB;QACAhC;QACAa;UACA;YACAC;YACAF;cACAqB;cACAC;cACA9B;cACAC;cACA8B,gBACAR,+BACAD;cACAU,iBACAT,gCACAD;cACAW;cACAxB;gBACAC;gBACA;gBACAA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;gBACA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;cACAwB;gBACAxB;cACA;YACA;UAGA;YACA;UAAA;QAEA;QACAwB;UACAxB;QACA;MACA;IAEA;IACA;IACAyB;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IAEA;IACA;IACAC;MAAA;MACA;QACA;UACAC;QACA;UACA;YAAA,uCACAC;cACAC;YAAA;UAAA,CACA;UACAC;QACA;UACAC;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;IAEA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,4FACAtB,qEACAA;QACA;MAEA;IACA;IACAuB;MACA;MACA;IACA;IAEAC;MAEA;QACA;QACA;QACA;MACA;QACA;QACA;MACA;MACApC;MACA;QACA,2DACA;UACA8B;QAAA,GACA;MACA;MACA,+DACA;QACAA;MAAA,GACA;IACA;IACA;IAEAO;MACA;IACA;IACA;IAEAC;MAAA;MACA;MACA;MACA;QACA;QACAtC;QACA;QACA;UACAV;UACAC;UACAR;UACAS;QACA;MACA;QACAQ;MACA;IACA;IAEAuC;MACA;QACAvC;MAEA;QACAA;MACA;IACA;EACA;EACAwC;IACAC;EACA;EACAC;IACA;IACA;IACA;EAAA,CACA;EAEAC;IACA;IACA;IACA;IACA;;IAEA,4FACA/B,iDACAA;IACA;EACA;EACAgC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cACA;cACA9C;gBACAY;gBACAX;kBACA;kBACA;kBACA,oFACA;kBACAC,wEACA;kBACA;kBACA;;kBAEA;kBACA,mFACA;kBACA,qFACA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;cACA;cACA;cAAA;cAAA,OACA;YAAA;cACA;cACA;gBACA;cACA;cACA6C;gBACAC;gBACAC;gBACAC;gBACA1D;gBACAC;cACA;cACA;cACA;cACA;cACA0D;cACA;gBACA;gBACA;kBACAA;gBACA;cACA;cACA;cACA,+DACA;gBACAnB;cAAA,GACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAGA;AAEA;AAAA,2B;;;;;;;;;;;;;AC5jBA;AAAA;AAAA;AAAA;AAAuqC,CAAgB,6oCAAG,EAAC,C;;;;;;;;;;;ACA3rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/modifySize/modifySize.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/modifySize/modifySize.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./modifySize.vue?vue&type=template&id=3bec7866&scoped=true&\"\nvar renderjs\nimport script from \"./modifySize.vue?vue&type=script&lang=js&\"\nexport * from \"./modifySize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modifySize.vue?vue&type=style&index=0&id=3bec7866&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3bec7866\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/modifySize/modifySize.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=template&id=3bec7866&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    sizeSpecification: function () {\n      return import(\n        /* webpackChunkName: \"components/sizeSpecification/sizeSpecification\" */ \"@/components/sizeSpecification/sizeSpecification.vue\"\n      )\n    },\n    uOverlay: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-overlay/u-overlay\" */ \"@/uni_modules/uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    \"u-Form\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--form/u--form\" */ \"@/uni_modules/uview-ui/components/u--form/u--form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    \"u-Input\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--input/u--input\" */ \"@/uni_modules/uview-ui/components/u--input/u--input.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 头部 -->\r\n\t\t<view class=\"header\">\r\n\t\t\t<view class=\"header-back\" @click=\"goBack\">\r\n\t\t\t\t<uni-icons type=\"left\" size=\"15\"></uni-icons>\r\n\t\t\t\t<text>返回</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"header-title\">\r\n\t\t\t\t照片尺寸修改\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 图片裁剪区 -->\r\n\t\t<view class=\"canvas-container\" @touchstart=\"onTouchStart\" @touchmove=\"onTouchMove\" @touchend=\"onTouchEnd\">\r\n\t\t\t<!-- 蒙层 -->\r\n\t\t\t<canvas class=\"pre-canvas\" canvas-id=\"firstCanvas\"\r\n\t\t\t\t:style=\"{ width: 100 + 'vw', height: 100 + 'vh' }\"></canvas>\r\n\t\t\t<canvas canvas-id=\"myCanvas\" class=\"canvas\">\r\n\t\t\t</canvas>\r\n\t\t</view>\r\n\t\t<view class=\"button-container\">\r\n\t\t\t<view class=\"left-button-container\">\r\n\t\t\t\t<view class=\"\" style=\"width: 150rpx; width: 40%;\">\r\n\t\t\t\t\t<u-button shape=\"circle\" @click=\"set\">设置</u-button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left-button-functionContainer\" style=\"width: 60%;\">\r\n\t\t\t\t\t<u-button shape=\"circle\" size=\"mini\" @click=\"magnify\">放大</u-button>\r\n\t\t\t\t\t<u-button shape=\"circle\" size=\"mini\" @click=\"shrink\">缩小</u-button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right-button-container\" style=\"width: 200rpx;\">\r\n\t\t\t\t<u-button shape=\"circle\" @click=\"toChooseSize\">搜索规格</u-button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 设置图片参数栏 -->\r\n\t\t<scroll-view scroll-x class='scroll-view'>\r\n\t\t\t<view class=\"single-sizeContainer\" v-for=\"(item,index) in sizeArr\" :key=\"index\"\r\n\t\t\t\t@click=\"changeChecked(item,index)\">\r\n\t\t\t\t<sizeSpecification :size-list=\"item\" :is-checked=\"item.isChecked\"></sizeSpecification>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<view class=\"button-bottomContainer\">\r\n\t\t\t<view class=\"\" style=\"width: 45%;\">\r\n\t\t\t\t<u-button @click=\"replace\">更换图片</u-button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"\" style=\"width: 45%;\">\r\n\t\t\t\t<u-button type=\"success\" @click=\"clipImage\">确定</u-button>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\r\n\t\t<u-overlay :show=\"setShow\" mask-click-able=false>\r\n\t\t\t<view class=\"device\">\r\n\t\t\t\t<view class=\"device-header\">\r\n\t\t\t\t\t宽高设置\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"device-contentContainer\">\r\n\t\t\t\t\t<view class=\"device-content\">\r\n\t\t\t\t\t\t<u--form :model=\"form\" :rules=\"rules\" ref=\"uForm\">\r\n\t\t\t\t\t\t\t<u-form-item label=\"宽\" prop=\"form.width\" borderBottom style=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.width\" border=\"none\" placeholder=\"请输入宽\"></u--input>\r\n\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t像素(px)\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t<u-form-item label=\"高\" prop=\"form.height\" borderBottom style=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.height\" border=\"none\" placeholder=\"请输入高\"></u--input>\r\n\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t像素(px)\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t<u-form-item label=\"dpi\" prop=\"form.dpi\" borderBottom style=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"\" style=\"display: flex;\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.dpi\" border=\"none\" placeholder=\"请输入dpi\"></u--input>\r\n\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t分辨率\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t</u--form>\r\n\t\t\t\t\t\t<view class=\"device-single\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t图片格式\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"device-format\">\r\n\t\t\t\t\t\t\t\t<view :class=\"{'click':isClick == false,'unclick':isClick==true}\" @click=\"jpgClick\">\r\n\t\t\t\t\t\t\t\t\tjpg\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view :class=\"{'click':isClick == true,'unclick':isClick==false}\" @click=\"pngClick\">\r\n\t\t\t\t\t\t\t\t\tpng\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"buttonContent\">\r\n\t\t\t\t\t<u-button shape=\"square\" @click=\"cancel\" style=\"width: 40%;\">取消</u-button>\r\n\t\t\t\t\t<u-button shape=\"square\" type=\"success\" @click=\"submit\" style=\"width: 40%;\">确定</u-button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-overlay>\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetData,\r\n\t\tputSize,\r\n\t\tdeleteImage\r\n\t} from '@/api/compress.js'\r\n\timport env from '@/utils/env.js';\r\n\timport sizeSpecification from '@/components/sizeSpecification/sizeSpecification.vue'\r\n\texport default {\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tctx: null, // 添加一个新的数据属性来存储 Canvas 上下文\r\n\t\t\t\t// 传入图像地址\r\n\t\t\t\timgUrl: '',\r\n\t\t\t\t// 截取图像地址\r\n\t\t\t\tclipUrl: '',\r\n\t\t\t\t// dpi默认值\r\n\t\t\t\tdpi: 150,\r\n\t\t\t\t// 热门规格数据\r\n\t\t\t\tsizeArr: [],\r\n\t\t\t\t// 控制缩放倍率\r\n\t\t\t\tcurrentScale: 1,\r\n\t\t\t\t// 模态框的内容\r\n\t\t\t\tcontent: '观看广告，解锁功能',\r\n\t\t\t\timgWidth: 0,\r\n\t\t\t\timgHeight: 0,\r\n\t\t\t\tsetShow: false,\r\n\t\t\t\tdpi: 150,\r\n\t\t\t\tisClick: false,\r\n\t\t\t\tform: {\r\n\t\t\t\t\twidth: 295,\r\n\t\t\t\t\theight: 413,\r\n\t\t\t\t\tdpi: 150,\r\n\t\t\t\t\tformat: 1\r\n\t\t\t\t},\r\n\t\t\t\tcanvasHeight: 400,\r\n\t\t\t\tcanvasWidth: 375,\r\n\t\t\t\tscale: 0,\r\n\t\t\t\t// 鼠标点击位置相对于触发事件的元素（ 这里是canvas元素） 的水平偏移量\r\n\t\t\t\toffsetX: 0,\r\n\t\t\t\toffsetY: 0,\r\n\t\t\t\tstartX: 0,\r\n\t\t\t\tstartY: 0,\r\n\t\t\t\t// 画布截图初始点\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tscreenWidth: '', // 屏幕宽度\r\n\t\t\t\t// 是否拖拽\r\n\t\t\t\tisDragging: false,\r\n\t\t\t\trules: {\r\n\t\t\t\t\t'form.width': {\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'form.height': {\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'form.dpi': {\r\n\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitCanvas() {\r\n\t\t\t\tthis.ctx = uni.createCanvasContext('myCanvas'); // 初始化 Canvas 上下文\r\n\t\t\t},\r\n\t\t\tgetSystemInfo() {\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(res.windowWidth, res.windowHeight, \"窗口属性\");\r\n\t\t\t\t\t\tthis.screenWidth = res.windowWidth;\r\n\t\t\t\t\t\tthis.setBgBox();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 设置蒙层\r\n\t\t\tsetBgBox() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\timgWidth,\r\n\t\t\t\t\timgHeight,\r\n\t\t\t\t\tscreenWidth,\r\n\t\t\t\t} = this;\r\n\t\t\t\tconsole.log(imgWidth);\r\n\t\t\t\tconst ctx = uni.createCanvasContext('firstCanvas');\r\n\t\t\t\t// 先清除矩形\r\n\t\t\t\tctx.clearRect(0, 0, screenWidth, 400);\r\n\t\t\t\t// 设置canvas透明度\r\n\t\t\t\tctx.setGlobalAlpha(0.7);\r\n\t\t\t\t// 设置蒙层颜色\r\n\t\t\t\tctx.setFillStyle('#000000');\r\n\t\t\t\t// 绘制蒙层\r\n\t\t\t\tctx.fillRect(0, 0, screenWidth, 400);\r\n\t\t\t\t// 基准框留白\r\n\t\t\t\t// 第一个、第二个属性需相同(clearRect、strokeRect)\r\n\t\t\t\t// 高边长\r\n\t\t\t\tif (this.imgWidth < this.imgHeight) {\r\n\t\t\t\t\tthis.x = this.offsetX\r\n\t\t\t\t\tctx.clearRect(this.offsetX, 0, imgWidth * this.scale, imgHeight * this.scale);\r\n\t\t\t\t\t// 绘制基准框\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.setStrokeStyle('#FFFFFF');\r\n\t\t\t\t\tctx.strokeRect(this.offsetX, 0, imgWidth * this.scale,\r\n\t\t\t\t\t\timgHeight * this.scale);\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\tctx.draw();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.y = this.offsetY\r\n\t\t\t\t\tctx.clearRect(0, this.offsetY, imgWidth * this.scale, imgHeight * this.scale);\r\n\t\t\t\t\t// 绘制基准框\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tctx.setStrokeStyle('#FFFFFF');\r\n\t\t\t\t\tctx.strokeRect(0, this.offsetY, imgWidth * this.scale,\r\n\t\t\t\t\t\timgHeight * this.scale);\r\n\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\tctx.draw();\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 返回上一级页面\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\r\n\t\t\t// 跳转到选择照片尺寸\r\n\t\t\ttoChooseSize() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/chooseSize/chooseSize'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 更换图片\r\n\t\t\treplace() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album'], //从相册选择\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.imgUrl = res.tempFilePaths[0]\r\n\t\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\t\tsrc: this.imgUrl,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tthis.currentScale = 1\r\n\t\t\t\t\t\t\t\tthis.imgHeight = res.height\r\n\t\t\t\t\t\t\t\tthis.imgWidth = res.width\r\n\t\t\t\t\t\t\t\t// console.log(this.scale);\r\n\t\t\t\t\t\t\t\tthis.scale = Math.min(this.canvasWidth / this.imgWidth,\r\n\t\t\t\t\t\t\t\t\tthis\r\n\t\t\t\t\t\t\t\t\t.canvasHeight /\r\n\t\t\t\t\t\t\t\t\tthis.imgHeight); // 计算缩放比例\r\n\t\t\t\t\t\t\t\tthis.offsetX = Math.ceil((this.canvasWidth - this\r\n\t\t\t\t\t\t\t\t\t\t.imgWidth * this\r\n\t\t\t\t\t\t\t\t\t\t.scale) /\r\n\t\t\t\t\t\t\t\t\t2) + 10; // 计算水平平移距离\r\n\t\t\t\t\t\t\t\tthis.offsetY = Math.ceil((this.canvasHeight - this\r\n\t\t\t\t\t\t\t\t\t\t.imgHeight * this\r\n\t\t\t\t\t\t\t\t\t\t.scale) /\r\n\t\t\t\t\t\t\t\t\t2) + 10; // 计算垂直平移距离\r\n\t\t\t\t\t\t\t\tconsole.log(this.offsetX, this.offsetY, \"offset值\");\r\n\t\t\t\t\t\t\t\t// console.log(this.canvasWidth / this.imgWidth, this.canvasHeight /\r\n\t\t\t\t\t\t\t\t// \tthis.imgHeight);\r\n\t\t\t\t\t\t\t\tthis.getSystemInfo()\r\n\t\t\t\t\t\t\t\t// 由于网络异步问题，绘制需放在接口中\r\n\t\t\t\t\t\t\t\tthis.ctx.drawImage(this.imgUrl, this.offsetX, this.offsetY, Math\r\n\t\t\t\t\t\t\t\t\t.ceil(this.imgWidth * (this.scale - 0.03)), Math.ceil(this\r\n\t\t\t\t\t\t\t\t\t\t.imgHeight * (this\r\n\t\t\t\t\t\t\t\t\t\t\t.scale - 0.03)))\r\n\t\t\t\t\t\t\t\tthis.ctx.draw()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmagnify() {\r\n\t\t\t\t// 检查当前数值是否大于0.1\r\n\t\t\t\tif (this.currentScale < 1.4) {\r\n\t\t\t\t\t// 如果大于0.1，则减少0.1\r\n\t\t\t\t\tthis.currentScale += 0.1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 如果小于等于0.1，重置为1\r\n\t\t\t\t\tthis.currentScale = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.ctx.drawImage(this.imgUrl, this.offsetX, this.offsetY, Math\r\n\t\t\t\t\t.ceil(this.imgWidth * (this\r\n\t\t\t\t\t\t.scale - 0.03) * this.currentScale), Math.ceil(this.imgHeight * (this\r\n\t\t\t\t\t\t.scale - 0.03) * this.currentScale))\r\n\t\t\t\tthis.ctx.draw() //绘制\r\n\t\t\t},\r\n\t\t\tshrink() {\r\n\t\t\t\t// 检查当前数值是否大于0.1\r\n\t\t\t\tif (this.currentScale > 0.7) {\r\n\t\t\t\t\t// 如果大于0.1，则减少0.1\r\n\t\t\t\t\tthis.currentScale -= 0.1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 如果小于等于0.1，重置为1\r\n\t\t\t\t\tthis.currentScale = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.ctx.drawImage(this.imgUrl, this.offsetX, this.offsetY, Math\r\n\t\t\t\t\t.ceil(this.imgWidth * (this\r\n\t\t\t\t\t\t.scale - 0.03) * this.currentScale), Math.ceil(this.imgHeight * (this\r\n\t\t\t\t\t\t.scale - 0.03) * this.currentScale))\r\n\t\t\t\tthis.ctx.draw() //绘制\r\n\t\t\t},\r\n\t\t\t// 控制宽高设置栏的出现\r\n\t\t\tset() {\r\n\t\t\t\tthis.setShow = true\r\n\r\n\t\t\t},\r\n\t\t\t// 确定压缩尺寸\r\n\t\t\tclipImage() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '修改尺寸',\r\n\t\t\t\t\tcontent: '请选择是否观看广告以解锁修改功能',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\t\t\tx: this.x,\r\n\t\t\t\t\t\t\t\ty: this.y,\r\n\t\t\t\t\t\t\t\twidth: this.imgWidth * this.scale,\r\n\t\t\t\t\t\t\t\theight: this.imgHeight * this.scale,\r\n\t\t\t\t\t\t\t\tdestWidth: Math\r\n\t\t\t\t\t\t\t\t\t.ceil(this.imgWidth * (this\r\n\t\t\t\t\t\t\t\t\t\t.scale - 0.03) * this.currentScale),\r\n\t\t\t\t\t\t\t\tdestHeight: Math\r\n\t\t\t\t\t\t\t\t\t.ceil(this.imgHeight * (this\r\n\t\t\t\t\t\t\t\t\t\t.scale - 0.03) * this.currentScale),\r\n\t\t\t\t\t\t\t\tcanvasId: 'firstCanvas',\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res.tempFilePath);\r\n\t\t\t\t\t\t\t\t\tlet url = res.tempFilePath\r\n\t\t\t\t\t\t\t\t\tconsole.log(JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\"dpi\": this.form.dpi,\r\n\t\t\t\t\t\t\t\t\t\t\"format\": this.form.format,\r\n\t\t\t\t\t\t\t\t\t\t\"heightpx\": this.form.height,\r\n\t\t\t\t\t\t\t\t\t\t\"imagePaths\": url,\r\n\t\t\t\t\t\t\t\t\t\t\"widthpx\": this.form.width\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\tthis.putSizeApi(JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\"dpi\": this.form.dpi,\r\n\t\t\t\t\t\t\t\t\t\t\"format\": this.form.format,\r\n\t\t\t\t\t\t\t\t\t\t\"heightpx\": this.form.height,\r\n\t\t\t\t\t\t\t\t\t\t\"imagePaths\": url,\r\n\t\t\t\t\t\t\t\t\t\t\"widthpx\": this.form.width\r\n\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t// console.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t// 点击jpg格式\r\n\t\t\tjpgClick() {\r\n\t\t\t\tthis.isClick = false\r\n\t\t\t\tthis.form.format = 1\r\n\t\t\t},\r\n\t\t\t// 点击png格式\r\n\t\t\tpngClick() {\r\n\t\t\t\tthis.isClick = true\r\n\t\t\t\tthis.form.format = 2\r\n\r\n\t\t\t},\r\n\t\t\t// 获取热门规格\r\n\t\t\tgetDataApi() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tgetData({\r\n\t\t\t\t\t\tisHot: 1\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tthis.sizeArr = res.data.map(i => ({\r\n\t\t\t\t\t\t\t...i,\r\n\t\t\t\t\t\t\tisChecked: false,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonTouchStart(e) {\r\n\t\t\t\tif (!this.isDragging) {\r\n\t\t\t\t\tthis.startX = e.touches[0].pageX;\r\n\t\t\t\t\tthis.startY = e.touches[0].pageY;\r\n\t\t\t\t\tthis.isDragging = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tonTouchMove(e) {\r\n\t\t\t\tif (this.isDragging) {\r\n\t\t\t\t\tconst moveX = e.touches[0].pageX - this.startX;\r\n\t\t\t\t\tconst moveY = e.touches[0].pageY - this.startY;\r\n\t\t\t\t\tthis.offsetX += moveX;\r\n\t\t\t\t\tthis.offsetY += moveY;\r\n\t\t\t\t\tthis.startX = e.touches[0].pageX;\r\n\t\t\t\t\tthis.startY = e.touches[0].pageY;\r\n\t\t\t\t\tthis.ctx.drawImage(this.imgUrl, this.offsetX, this.offsetY, Math.ceil(this.imgWidth * (this\r\n\t\t\t\t\t\t.scale - 0.03) * this.currentScale), Math.ceil(this.imgHeight * (this\r\n\t\t\t\t\t\t.scale - 0.03) * this.currentScale))\r\n\t\t\t\t\tthis.ctx.draw() //绘制\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonTouchEnd(e) {\r\n\t\t\t\t// console.log(e, 111);\r\n\t\t\t\tthis.isDragging = false;\r\n\t\t\t},\r\n\r\n\t\t\tchangeChecked(item, index) {\r\n\r\n\t\t\t\tif (item.imageName == \"点击自定义\") {\r\n\t\t\t\t\tthis.setShow = true\r\n\t\t\t\t\tthis.form.width = ''\r\n\t\t\t\t\tthis.form.height = ''\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.form.width = item.widthpx\r\n\t\t\t\t\tthis.form.height = item.heightpx\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(item);\r\n\t\t\t\tfor (let i = 0; i < this.sizeArr.length; i++) {\r\n\t\t\t\t\tthis.$set(this.sizeArr, i, {\r\n\t\t\t\t\t\t...this.sizeArr[i],\r\n\t\t\t\t\t\tisChecked: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthis.$set(this.sizeArr, index, {\r\n\t\t\t\t\t...this.sizeArr[index],\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 宽高设置的取消按钮\r\n\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.setShow = false\r\n\t\t\t},\r\n\t\t\t// 宽高设置的确定按钮\r\n\r\n\t\t\tsubmit() {\r\n\t\t\t\t// 判断输入的宽高等值是否有错误\r\n\t\t\t\tthis.setShow = false\r\n\t\t\t\tthis.$refs.uForm.validate().then(res => {\r\n\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\tconsole.log('验证通过');\r\n\t\t\t\t\t// console.log(this.form.format);\r\n\t\t\t\t\tthis.form = {\r\n\t\t\t\t\t\twidth: '',\r\n\t\t\t\t\t\theight: '',\r\n\t\t\t\t\t\tdpi: 150,\r\n\t\t\t\t\t\tformat: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(errors => {\r\n\t\t\t\t\tconsole.log('验证失败');\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tputSizeApi(size) {\r\n\t\t\t\tputSize(size).then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tsizeSpecification\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// cropHeight() {\r\n\t\t\t// \treturn Math.ceil(this.imgHeight * this.scale)\r\n\t\t\t// }\r\n\t\t},\r\n\r\n\t\tonReady: function(e) {\r\n\t\t\tthis.initCanvas(); // 在页面准备就绪时初始化 Canvas\r\n\t\t\tthis.getSystemInfo();\r\n\t\t\tthis.$refs.uForm.setRules(this.rules)\r\n\t\t\t// 渲染图片\r\n\r\n\t\t\tthis.ctx.drawImage(this.imgUrl, this.offsetX, this.offsetY, Math.ceil(this.imgWidth * (this\r\n\t\t\t\t.scale - 0.03)), Math.ceil(this.imgHeight * (this\r\n\t\t\t\t.scale - 0.03)))\r\n\t\t\tthis.ctx.draw()\r\n\t\t},\r\n\t\tasync onLoad(option) {\r\n\t\t\t// 获取上个页面传递的参数。\r\n\t\t\tthis.imgUrl = option.imgUrl\r\n\t\t\t// console.log(this.imgUrl);\r\n\t\t\tuni.getImageInfo({\r\n\t\t\t\tsrc: this.imgUrl,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.imgHeight = res.height\r\n\t\t\t\t\tthis.imgWidth = res.width\r\n\t\t\t\t\tthis.scale = Math.min(this.canvasWidth / this.imgWidth, this.canvasHeight /\r\n\t\t\t\t\t\tthis.imgHeight); // 计算缩放比例\r\n\t\t\t\t\tconsole.log(this.canvasWidth / this.imgWidth, this.canvasHeight /\r\n\t\t\t\t\t\tthis.imgHeight);\r\n\t\t\t\t\t// if (this.canvasWidth / this.imgWidth < this.canvasHeight /\r\n\t\t\t\t\t// \tthis.imgHeight) {\r\n\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tthis.offsetX = Math.ceil((this.canvasWidth - this.imgWidth * this.scale) /\r\n\t\t\t\t\t\t2) + 10; // 计算水平平移距离\r\n\t\t\t\t\tthis.offsetY = Math.ceil((this.canvasHeight - this.imgHeight * this.scale) /\r\n\t\t\t\t\t\t2) + 10; // 计算垂直平移距离\r\n\t\t\t\t\t// console.log(this.offsetX, this.offsetY, \"offset值\");\r\n\t\t\t\t\t// console.log(this.offsetX, this.offsetY, Math.ceil(this.imgWidth * this\r\n\t\t\t\t\t// \t.scale), Math.ceil(this.imgHeight * this.scale));\r\n\t\t\t\t\t// console.log(this.canvasWidth / this.imgWidth, this.canvasHeight /\r\n\t\t\t\t\t// \tthis.imgHeight);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// 接收传来的规格数据\r\n\t\t\t// 等待getDataApi执行完毕\r\n\t\t\tawait this.getDataApi();\r\n\t\t\t// console.log(JSON.parse(option.sizeList));\r\n\t\t\tif (JSON.parse(option.sizeList).imageName == \"点击自定义\") {\r\n\t\t\t\tthis.setShow = true\r\n\t\t\t}\r\n\t\t\tlet define = {\r\n\t\t\t\timageName: '点击自定义',\r\n\t\t\t\twidthpx: '自定义',\r\n\t\t\t\theightpx: '自定义',\r\n\t\t\t\twidth: '自定义',\r\n\t\t\t\theight: '自定义',\r\n\t\t\t}\r\n\t\t\tthis.sizeArr.unshift(define)\r\n\t\t\tthis.sizeArr.unshift(JSON.parse(option.sizeList));\r\n\t\t\t// 数组去重\r\n\t\t\tlet map = new Map();\r\n\t\t\tfor (let i = 0; i < this.sizeArr.length; i++) {\r\n\t\t\t\tthis.sizeArr[i].isChecked = false\r\n\t\t\t\tif (!map.has(this.sizeArr[i].imageName)) {\r\n\t\t\t\t\tmap.set(this.sizeArr[i].imageName, this.sizeArr[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.sizeArr = [...map.values()];\r\n\t\t\tthis.$set(this.sizeArr, 0, {\r\n\t\t\t\t...this.sizeArr[0],\r\n\t\t\t\tisChecked: true\r\n\t\t\t})\r\n\t\t\t// console.log(this.sizeArr);\r\n\r\n\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: relative;\r\n\r\n\t\t.header {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tposition: relative;\r\n\t\t\tmargin-top: 30rpx;\r\n\r\n\t\t\t.header-back {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\tleft: 20rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.header-title {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%) translateY(-50%);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.canvas-container {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 800rpx;\r\n\t\t\tposition: relative;\r\n\t\t\tbackground-color: gray;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.pre-canvas {\r\n\t\t\t\tposition: absolute; // 使用绝对定位\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tz-index: 20;\r\n\t\t\t}\r\n\r\n\t\t\t.canvas {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.crop-box {\r\n\t\t\t\tz-index: 10;\r\n\t\t\t\twidth: 400rpx;\r\n\t\t\t\theight: 600rpx;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tborder: 6rpx solid black;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%) translateY(-50%);\r\n\t\t\t\tmask: conic-gradient(at 50rpx 50rpx, transparent 75%, blue 75% 100%) 0 0 / calc(100% - 25px) calc(100% - 25px) repeat;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.button-container {\r\n\t\t\twidth: 90%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-bottom: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.left-button-container {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 60%;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.left-button-functionContainer {\r\n\t\tdisplay: flex;\r\n\t\twidth: 20%;\r\n\t\tjustify-content: space-evenly;\r\n\t}\r\n\r\n\t// 滚动事件\r\n\t// 容器\r\n\t.scroll-view {\r\n\t\twidth: 95%;\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\theight: 200rpx;\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.single-sizeContainer {\r\n\t\twidth: 230rpx;\r\n\t\theight: 200rpx;\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t\tmargin-right: 30rpx;\r\n\t\t// background-color: #dfdfdf;\r\n\t\tbackground-color: #c4c6c9;\r\n\t\tborder-radius: 15rpx;\r\n\t}\r\n\r\n\t.size-container {\r\n\t\tdisplay: flex;\r\n\t\tmargin-left: 30rpx;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\r\n\t.button-bottomContainer {\r\n\t\twidth: 95%;\r\n\t\theight: 80rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\r\n\t}\r\n\r\n\t.device {\r\n\t\twidth: 90%;\r\n\t\theight: 600rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%) translateY(-50%);\r\n\t\tborder-radius: 20rpx;\r\n\t\tposition: absolute;\r\n\r\n\t\t.device-header {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 80rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 80rpx;\r\n\t\t}\r\n\r\n\t\t.device-contentContainer {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 420rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.device-content {\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\theight: 400rpx;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%) translateY(-50%);\r\n\t\t\t\tbackground-color: white;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tborder-radius: 30rpx;\r\n\r\n\t\t\t\t.device-single {\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\tline-height: 60rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tmargin-top: 40rpx;\r\n\r\n\t\t\t\t\t.device-format {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 点击jpg和png时的样式切换\r\n\t.click {\r\n\t\tmargin-right: 40rpx;\r\n\t\twidth: 70rpx;\r\n\t\theight: 60rpx;\r\n\t\tcolor: white;\r\n\t\tbackground-color: #2979ff;\r\n\t\ttext-align: center;\r\n\t\tline-height: 60rpx;\r\n\t}\r\n\r\n\t.unclick {\r\n\t\tmargin-right: 40rpx;\r\n\t\twidth: 70rpx;\r\n\t\theight: 60rpx;\r\n\t\tcolor: #2979ff;\r\n\t\tbackground-color: white;\r\n\t\ttext-align: center;\r\n\t\tline-height: 60rpx;\r\n\t}\r\n\r\n\t.buttonContent {\r\n\t\tdisplay: flex;\r\n\t\tposition: absolute;\r\n\t\twidth: 300rpx;\r\n\t\tjustify-content: space-between;\r\n\t\ttop: 92%;\r\n\t\ttransform: translateY(-50%) translateX(-50%);\r\n\t\tleft: 74%;\r\n\r\n\t}\r\n\r\n\t::v-deep .u-form-item__body {\r\n\t\tpadding-left: 20rpx;\r\n\t\tpadding-right: 20rpx;\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=style&index=0&id=3bec7866&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=style&index=0&id=3bec7866&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1721370735668\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}