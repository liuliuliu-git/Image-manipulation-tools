{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/dell/Desktop/做的所有/ms_stu_pro_lrb/pages/sub-modify/modifySize/modifySize.vue?b777","webpack:///C:/Users/dell/Desktop/做的所有/ms_stu_pro_lrb/pages/sub-modify/modifySize/modifySize.vue?6d6a","webpack:///C:/Users/dell/Desktop/做的所有/ms_stu_pro_lrb/pages/sub-modify/modifySize/modifySize.vue?358b","webpack:///C:/Users/dell/Desktop/做的所有/ms_stu_pro_lrb/pages/sub-modify/modifySize/modifySize.vue?231a","uni-app:///pages/sub-modify/modifySize/modifySize.vue","webpack:///C:/Users/dell/Desktop/做的所有/ms_stu_pro_lrb/pages/sub-modify/modifySize/modifySize.vue?e728","webpack:///C:/Users/dell/Desktop/做的所有/ms_stu_pro_lrb/pages/sub-modify/modifySize/modifySize.vue?0a3d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","defineIndex","ctx","imgUrl","clipUrl","result","dpi","sizeArr","content","setShow","isClick","cropWidth","cropHeight","form","width","height","fileType","formatNew","startX","startY","rules","type","trigger","imgWidth","imgHeight","screenWidth","screenHeight","imgX","imgY","isMoving","currentNumber","cropX","cropY","rewardAd","components","sizeSpecification","onReady","onLoad","item","define","imageName","widthpx","heightpx","map","isChecked","computed","getJli","methods","handleCrop","initCanvas","toChooseSize","uni","url","replace","count","sizeType","sourceType","success","magnify","shrink","set","clipImage","title","fail","console","clipSize","customRewardUser","canvasId","x","y","filePath","name","formData","res","stringify","resolve","complete","jpgClick","pngClick","getDataApi","isHot","i","reject","changeChecked","cancel","submit","icon","duration","dpiInput","putSizeApi","deleteImageApi","saveImage","getSet","scope","confirm","log","authSetting","showToast","setBgBox","drawImage","src","that","handleTouchStart","handleTouchMove","handleTouchEnd","onUnload"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,mTAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAomB,CAAgB,8nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;AC8IxnB;AAMA;AAEA;AAGA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MAAA;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAT;MACA;MACAU;MACAC;MACAC;MACAC;MACAC;QACA;UACAC;UACAC;QACA;QACA;UACAD;UACAC;QACA;QACA;UACAD;UACAC;QACA;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;IACA;EAEA;EACAC;IACAC;EACA;EACAC;IAEA;IAEA;IACA;IACA;EAEA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cACA;cACA;cACA;cACA;;cAEA;cAAA;cAAA,OACA;YAAA;cACAC;cACA;gBACA;cACA;cACAC;gBACAC;gBACAC;gBACAC;gBACA5B;gBACAC;cACA;cACA;cACA;cACA;cACA4B;cACA;gBACA;kBACA;gBACA;kBACA;gBACA;gBACA;gBACA;kBACAA;gBACA;cACA;cACA;cACA,6DACA;gBACAC;cAAA,GACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAC;IACAC;MACA;IACA;EACA;EAQAC;IAEA;IACAC;MACA;QACA;QACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACA;IACAC;MAAA;MACAF;QACAG;QACAC;QAAA;QACAC;QAAA;QACAC;UACA;UAoCA;UACA;UACA;UACA;QAGA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;MACA,+FACAlC;MACA;MACA;IACA;IACAmC;MACA;QACA;MACA;QACA;MACA;MACA,+FACAnC;MACA;MACA;IACA;IACA;IACAoC;MACA;IACA;IACA;IACAC;MAAA;MACAV;QACAW;QACAtD;QACAiD;UACA;YACA;YACA;UACA;QACA;QACAM;UACAC;QACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;QACAf;UACAW;QACA;QACAX;UACAgB;UACAC;UACAC;UACAvD;UACAC;UACAC;UACAyC;YACAN;cACAW;YACA;YACAX;cACAC,mCACA;cACAkB;cACAC;cACAC;gBACA;gBACA;cACA;cACAf;gBACA,4BACAgB;gBACA,uBACAC;kBACA,cACA7D;kBACA,iBACAI;kBACA,mBACAJ,KACAE;kBACA,oBACAX;kBACA,kBACAS;gBACA;gBACA8D;cACA;cACAZ;gBACAC;cACA;YACA;UACA;UACAD;YACAC;UACA;UACAY;YACAzB;UACA;QACA;MACA;IACA;IACA;IACA0B;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACAC;QACA;UACA;YAAA,uCACAC;cACArC;YAAA;UAAA,CACA;UACA+B;QACA;UACAO;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;MAEA;QACA;QACA;QACA;MACA;MACA;QACA,2DACA;UACAvC;QAAA,GACA;MACA;MACA;MACA;MACA;MACA,+DACA;QACAA;MAAA,GACA;IACA;IACA;IACAwC;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;QACAlC;UACAW;UACAwB;UACAC;QACA;MACA;QACA;QACA,+FACAC;UACArC;YACAW;YACAwB;YACAC;UACA;QACA;UACA;UACA;YACAvB;YACA;YACA;YACA;cACA;gBACA;kBACAxB;kBACAC;kBACAC;kBACA5B;kBACAC;gBACA;gBACA,gFACA;kBACA6B;gBAAA,GACA;cACA;gBACA,+DACA;kBACAA;gBAAA,GACA;cACA;YACA;UAEA;YACAoB;UACA;QACA;MACA;IACA;IACA;IACAyB;MAAA;MACA;QACA;QACAtC;UACAC;UACAK;YACA;YACA;cACA;YACA;UACA;UACAM;YACAC;UACA;QACA;MACA;QACAA;MACA;IACA;IAEA0B;MACA;QACA1B;MACA;IACA;IACA2B;MAAA;MACAxC;QACA;QACAmB;QACAb;UACA;UACAN;QACA;QACAY;UACAC;UACA;YACAF;YACAwB;YACAC;UACA;QACA;QACAX;UACAzB;QACA;MACA;IACA;IACAyC;MAAA;MACAzC;QACAM;UAEA,qBACA;YACA;YACAN;cACA0C;cACApC;gBACAN;kBACAW;gBACA;gBACA;cACA;cACA;cACAC;gBACAZ;gBACAA;kBACAW;kBACAtD;kBACAiD,0BACAgB,KACA;oBACA,QACAqB,SACA;sBACA;sBACA3C;wBACAM,0BACAgB,KACA;0BACAT,QACA+B,IACAtB,IACAuB,YACA;wBACA;sBACA;oBACA,WACAvB,IACAW,QACA;sBACA,WACAa;wBACAnC;wBACAwB;wBACAC;sBACA;oBACA;kBACA;gBACA;cACA;YACA;UACA;;UA2CA;UAAA,KACA;YACA;UACA;QAEA;QACAxB;UACAC;QACA;MACA;IACA;IAEA;IACAkC;MAAA;MACA/C;QACAM;UACA;UACA;UACA;UACA;UACA;UACA;UACAvD;;UAIA;;UAEAA;;UAKA;;UAEAA;;UAKA;UACAA;UACA;UACAA,uEACAU;UACA;UACAV;UAEAA;UAKAA,wEACAU;UACAV;UACAA;QACA;MACA;IAEA;IACA;IACAiG;MACA;MACAhD;QACAiD;QACA3C;UACA4C;UACAA;UACA;UACA;UACA;YACA;cACA;cACAA;cACAA;cACAA;cACAA;YACA;cACAA;cACAA;YACA;UACA;UACA;UAAA,KACA;YACA;cACA;cACAA;cACAA;cACAA;cACAA;YACA;cACAA;cACAA;YACA;UACA;UACAA,uFACAA;UACAA;QACA;MACA;IACA;IAEAC;MACA;QACA;QACA;QACA;MACA;IACA;IAEAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA,+FACA/E;QACA;MACA;IACA;IACAgF;MACA;IACA;EACA;EACAC;IAEA;EAGA;AAGA;AAAA,2B;;;;;;;;;;;;;ACl2BA;AAAA;AAAA;AAAA;AAAuqC,CAAgB,6oCAAG,EAAC,C;;;;;;;;;;;ACA3rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sub-modify/modifySize/modifySize.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sub-modify/modifySize/modifySize.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./modifySize.vue?vue&type=template&id=1b67bb40&scoped=true&\"\nvar renderjs\nimport script from \"./modifySize.vue?vue&type=script&lang=js&\"\nexport * from \"./modifySize.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modifySize.vue?vue&type=style&index=0&id=1b67bb40&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b67bb40\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sub-modify/modifySize/modifySize.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=template&id=1b67bb40&scoped=true&\"","var components\ntry {\n  components = {\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    sizeSpecification: function () {\n      return import(\n        /* webpackChunkName: \"components/sizeSpecification/sizeSpecification\" */ \"@/components/sizeSpecification/sizeSpecification.vue\"\n      )\n    },\n    uOverlay: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-overlay/u-overlay\" */ \"@/uni_modules/uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form/u-form\" */ \"@/uni_modules/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    \"u-Input\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--input/u--input\" */ \"@/uni_modules/uview-ui/components/u--input/u--input.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 图片裁剪区 -->\r\n\t\t<view class=\"settingHeadImage\" @touchstart=\"handleTouchStart\" @touchmove=\"handleTouchMove\"\r\n\t\t\t@touchend=\"handleTouchEnd\">\r\n\t\t\t<canvas canvas-id=\"myCanvas\" style=\"width: 100%; height: 400px; \" class=\"canvas\">\r\n\t\t\t</canvas>\r\n\t\t\t<!-- 蒙层 -->\r\n\t\t\t<canvas class=\"pre-canvas\" canvas-id=\"firstCanvas\">\r\n\t\t\t</canvas>\r\n\t\t</view>\r\n\t\t<view class=\"remind\">\r\n\t\t\t注意:如因网络问题加载不出图片，可点击下方规格尝试重新加载\r\n\t\t</view>\r\n\t\t<view class=\"button-container\">\r\n\t\t\t<view class=\"left-button-container\">\r\n\t\t\t\t<view style=\"width: 40%;\">\r\n\t\t\t\t\t<u-button :plain=\"true\" shape=\"circle\" type=\"primary\" @click=\"set\">设置</u-button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left-button-functionContainer\">\r\n\t\t\t\t\t<u-button shape=\"circle\" size=\"mini\" type=\"primary\" @click=\"magnify\">放大</u-button>\r\n\t\t\t\t\t<u-button shape=\"circle\" size=\"mini\" type=\"primary\" @click=\"shrink\">缩小</u-button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right-button-container\" style=\"width: 200rpx;\">\r\n\t\t\t\t<u-button :plain=\"true\" shape=\"circle\" type=\"primary\" @click=\"toChooseSize\">搜索规格</u-button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 设置图片参数栏 -->\r\n\t\t<scroll-view scroll-x class='scroll-view'>\r\n\t\t\t<view class=\"single-sizeContainer\" v-for=\"(item,index) in sizeArr\" :key=\"index\"\r\n\t\t\t\t@click=\"changeChecked(item,index)\">\r\n\t\t\t\t<sizeSpecification :size-list=\"item\" :is-checked=\"item.isChecked\"></sizeSpecification>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<view class=\"button-bottomContainer\">\r\n\t\t\t<view class=\"\" style=\"width: 45%;\">\r\n\t\t\t\t<u-button @click=\"replace\" :plain=\"true\" type=\"success\">更换图片</u-button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"\" style=\"width: 45%;\">\r\n\t\t\t\t<u-button type=\"success\" @click=\"clipSize\">确定</u-button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-overlay :show=\"setShow\" mask-click-able=false>\r\n\t\t\t<view class=\"device\">\r\n\t\t\t\t<view class=\"device-contentContainer\">\r\n\t\t\t\t\t<view class=\"device-content\">\r\n\t\t\t\t\t\t<u-form :model=\"form\" :rules=\"rules\" ref=\"uForm\">\r\n\t\t\t\t\t\t\t<!--#ifndef MP-KUAISHOU -->\r\n\t\t\t\t\t\t\t<u-form-item label=\"宽\" prop=\"form.width\" borderBottom style=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"form-single\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.width\" border=\"none\" placeholder=\"请输入宽\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"uform-input\"></u--input>\r\n\t\t\t\t\t\t\t\t\t<view class=\"gap\">\r\n\t\t\t\t\t\t\t\t\t\t像素(px)\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!--#ifdef MP-KUAISHOU -->\r\n\t\t\t\t\t\t\t<u-form-item label=\"宽(px)\" prop=\"form.width\" borderBottom\r\n\t\t\t\t\t\t\t\tstyle=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"form-single\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.width\" border=\"none\" placeholder=\"请输入宽\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"uform-input\"></u--input>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!--#ifndef MP-KUAISHOU -->\r\n\t\t\t\t\t\t\t<u-form-item label=\"高\" prop=\"form.height\" borderBottom style=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"form-single\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.height\" border=\"none\" placeholder=\"请输入高\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"uform-input\"></u--input>\r\n\r\n\t\t\t\t\t\t\t\t\t<view class=\"gap\">\r\n\t\t\t\t\t\t\t\t\t\t像素(px)\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!--#ifdef MP-KUAISHOU -->\r\n\t\t\t\t\t\t\t<u-form-item label=\"高(px)\" prop=\"form.height\" borderBottom\r\n\t\t\t\t\t\t\t\tstyle=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"form-single\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.height\" border=\"none\" placeholder=\"请输入高\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"uform-input\"></u--input>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\r\n\t\t\t\t\t\t\t<!--#ifndef MP-KUAISHOU -->\r\n\t\t\t\t\t\t\t<u-form-item label=\"dpi\" prop=\"form.dpi\" borderBottom style=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"form-single\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.dpi\" border=\"none\" placeholder=\"请输入dpi\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"uform-input\"></u--input>\r\n\r\n\t\t\t\t\t\t\t\t\t<view class=\"gap\">\r\n\t\t\t\t\t\t\t\t\t\t分辨率\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!--#ifdef MP-KUAISHOU -->\r\n\t\t\t\t\t\t\t<u-form-item label=\"dpi\" prop=\"form.dpi\" borderBottom style=\"display: flex;width: 400rpx;\">\r\n\t\t\t\t\t\t\t\t<view class=\"form-single\">\r\n\t\t\t\t\t\t\t\t\t<u--input v-model=\"form.dpi\" border=\"none\" placeholder=\"请输入dpi\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"uform-input\"></u--input>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t</u-form>\r\n\t\t\t\t\t\t<view class=\"device-single\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t图片格式\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"device-format\">\r\n\t\t\t\t\t\t\t\t<view :class=\"{'click':isClick == false,'unclick':isClick==true}\" @click=\"jpgClick\">\r\n\t\t\t\t\t\t\t\t\tjpg\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view :class=\"{'click':isClick == true,'unclick':isClick==false}\" @click=\"pngClick\">\r\n\t\t\t\t\t\t\t\t\tpng\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"buttonContent\">\r\n\t\t\t\t\t<view style=\"width: 47%;\">\r\n\t\t\t\t\t\t<u-button shape=\"square\" @click=\"cancel\" style=\"width: 40%;\" type=\"primary\"\r\n\t\t\t\t\t\t\t:plain=\"true\">取消</u-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view style=\"width: 47%;\">\r\n\t\t\t\t\t\t<u-button shape=\"square\" type=\"primary\" @click=\"submit\" style=\"width: 40%;\">确定</u-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-overlay>\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetData,\r\n\t\tputSize,\r\n\t\tdeleteImage,\r\n\t\tpostImage\r\n\t} from '@/api/compress.js'\r\n\timport env from '@/utils/env.js';\r\n\timport sizeSpecification from '@/components/sizeSpecification/sizeSpecification.vue'\r\n\timport {\r\n\t\tverifyImage\r\n\t} from '@/api/tools.js'\r\n\timport RewardedAd from '@/components/RewardedAd/index.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdefineIndex: 0,\r\n\t\t\t\tctx: null, // 添加一个新的数据属性来存储 Canvas 上下文\r\n\t\t\t\t// 传入图像地址\r\n\t\t\t\timgUrl: '',\r\n\t\t\t\t// 截取图像地址\r\n\t\t\t\tclipUrl: '',\r\n\t\t\t\tresult: '',\r\n\t\t\t\t// dpi默认值\r\n\t\t\t\tdpi: 150,\r\n\t\t\t\t// 热门规格数据\r\n\t\t\t\tsizeArr: [],\r\n\t\t\t\t// 模态框的内容\r\n\t\t\t\tcontent: '观看广告，解锁功能',\r\n\t\t\t\tsetShow: false,\r\n\t\t\t\tisClick: false,\r\n\t\t\t\t// 裁剪的大小区域\r\n\t\t\t\tcropWidth: 150,\r\n\t\t\t\tcropHeight: 150,\r\n\t\t\t\tform: {\r\n\t\t\t\t\twidth: 295,\r\n\t\t\t\t\theight: 413,\r\n\t\t\t\t\tdpi: 150,\r\n\t\t\t\t},\r\n\t\t\t\tfileType: 'jpg',\r\n\t\t\t\tformatNew: 1,\r\n\t\t\t\tstartX: 0,\r\n\t\t\t\tstartY: 0,\r\n\t\t\t\trules: {\r\n\t\t\t\t\t'form.width': {\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'form.height': {\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'form.dpi': {\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change'],\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\timgWidth: 250, // 图片宽度\r\n\t\t\t\timgHeight: 250, // 图片高度\r\n\t\t\t\tscreenWidth: 0, // 屏幕宽度\r\n\t\t\t\tscreenHeight: 400, //屏幕高度\r\n\t\t\t\timgX: 0, // 图片的x坐标\r\n\t\t\t\timgY: 0, // 图片的y坐标\r\n\t\t\t\tisMoving: false, // 是否正在移动图片\r\n\t\t\t\tcurrentNumber: 1,\r\n\t\t\t\t// 最大移动范围\r\n\t\t\t\tcropX: 0,\r\n\t\t\t\tcropY: 0,\r\n\t\t\t\t// 激励广告实例\r\n\t\t\t\trewardAd: null,\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tsizeSpecification\r\n\t\t},\r\n\t\tonReady: function(e) {\r\n\t\t\t//  #ifdef MP-WEIXIN\r\n\t\t\tthis.$refs.uForm.setRules(this.rules)\r\n\t\t\t// #endif\r\n\t\t\tthis.initCanvas();\r\n\t\t\tthis.drawImage(this.imgUrl);\r\n\t\t\tthis.setBgBox()\r\n\r\n\t\t},\r\n\t\tasync onLoad(option) {\r\n\t\t\tthis.form.width = JSON.parse(option.sizeList).widthpx\r\n\t\t\tthis.form.height = JSON.parse(option.sizeList).heightpx\r\n\t\t\tthis.form.dpi = JSON.parse(option.sizeList).dpi\r\n\t\t\tthis.rewardAd = new RewardedAd(this.getJli, this.customRewardUser);\r\n\t\t\t// 获取上个页面传递的参数。\r\n\t\t\tthis.imgUrl = option.imgUrl\r\n\r\n\t\t\t// 等待getDataApi执行完毕\r\n\t\t\tawait this.getDataApi();\r\n\t\t\tlet item = JSON.parse(option.sizeList)\r\n\t\t\tif (item.imageName == \"点击自定义\") {\r\n\t\t\t\tthis.setShow = true\r\n\t\t\t}\r\n\t\t\tlet define = {\r\n\t\t\t\timageName: '点击自定义',\r\n\t\t\t\twidthpx: this.form.width,\r\n\t\t\t\theightpx: this.form.height,\r\n\t\t\t\twidth: \"\",\r\n\t\t\t\theight: \"\",\r\n\t\t\t}\r\n\t\t\tthis.sizeArr.unshift(define)\r\n\t\t\tthis.sizeArr.unshift(JSON.parse(option.sizeList));\r\n\t\t\t// 数组去重\r\n\t\t\tlet map = new Map();\r\n\t\t\tfor (let i = 0; i < this.sizeArr.length; i++) {\r\n\t\t\t\tif (this.sizeArr[0].imageName == '点击自定义') {\r\n\t\t\t\t\tthis.defineIndex = 0\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.defineIndex = 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.sizeArr[i].isChecked = false\r\n\t\t\t\tif (!map.has(this.sizeArr[i].imageName)) {\r\n\t\t\t\t\tmap.set(this.sizeArr[i].imageName, this.sizeArr[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.sizeArr = [...map.values()];\r\n\t\t\tthis.$set(this.sizeArr, 0, {\r\n\t\t\t\t...this.sizeArr[0],\r\n\t\t\t\tisChecked: true\r\n\t\t\t})\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetJli() {\r\n\t\t\t\treturn this.$store.state.jLiId ? this.$store.state.jLiId : \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\t//  #ifdef MP-QQ\r\n\t\tonShareAppMessage: function() {\r\n\t\t\tqq.showShareMenu({\r\n\t\t\t\tshowShareItems: ['qq', 'qzone', 'wechatFriends', 'wechatMoment']\r\n\t\t\t})\r\n\t\t},\r\n\t\t// #endif\r\n\t\tmethods: {\r\n\r\n\t\t\t// 处理裁剪框样式\r\n\t\t\thandleCrop(widthpx, heightpx) {\r\n\t\t\t\tif (heightpx >= this.imgHeight && widthpx >= this.imgWidth) {\r\n\t\t\t\t\tthis.cropHeight = this.imgHeight\r\n\t\t\t\t\tthis.cropWidth = this.imgWidth\r\n\t\t\t\t} else if (heightpx >= this.imgHeight) {\r\n\t\t\t\t\tthis.cropHeight = this.imgHeight\r\n\t\t\t\t\tthis.cropWidth = widthpx\r\n\t\t\t\t} else if (widthpx >= this.imgWidth) {\r\n\t\t\t\t\tthis.cropHeight = heightpx\r\n\t\t\t\t\tthis.cropWidth = this.imgWidth\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.cropHeight = heightpx\r\n\t\t\t\t\tthis.cropWidth = widthpx\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinitCanvas() {\r\n\t\t\t\tthis.ctx = uni.createCanvasContext('myCanvas'); // 初始化 Canvas 上下文\r\n\t\t\t},\r\n\t\t\t// 跳转到选择照片尺寸\r\n\t\t\ttoChooseSize() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/sub-modify/chooseSize/chooseSize'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 更换图片\r\n\t\t\treplace() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album'], //从相册选择\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet img = res.tempFilePaths[0]\r\n\t\t\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\t\t\tverifyImage(this.$store.state.ttAppid, img, this.$store.state\r\n\t\t\t\t\t\t\t.clientType).then(res => {\r\n\t\t\t\t\t\t\tif (!res) {\r\n\t\t\t\t\t\t\t\tthis.imgUrl = img\r\n\t\t\t\t\t\t\t\tthis.currentNumber = 1\r\n\t\t\t\t\t\t\t\tthis.drawImage(this.imgUrl)\r\n\t\t\t\t\t\t\t\tthis.setBgBox()\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '图片存在风险,请重新上传',\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\ticon: \"fail\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(err => {})\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef MP-QQ\r\n\t\t\t\t\t\tverifyImage(this.$store.state.qqAppid, img, this.$store.state\r\n\t\t\t\t\t\t\t.clientType).then(res => {\r\n\t\t\t\t\t\t\tif (!res) {\r\n\t\t\t\t\t\t\t\tthis.imgUrl = img\r\n\t\t\t\t\t\t\t\tthis.currentNumber = 1\r\n\t\t\t\t\t\t\t\tthis.drawImage(this.imgUrl)\r\n\t\t\t\t\t\t\t\tthis.setBgBox()\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '图片存在风险,请重新上传',\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\ticon: \"fail\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(err => {})\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef MP-WEIXIN || MP-KUAISHOU\r\n\t\t\t\t\t\tthis.imgUrl = res.tempFilePaths[0]\r\n\t\t\t\t\t\tthis.currentNumber = 1\r\n\t\t\t\t\t\tthis.drawImage(this.imgUrl)\r\n\t\t\t\t\t\tthis.setBgBox()\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmagnify() {\r\n\t\t\t\tif (this.currentNumber <= 1.4) {\r\n\t\t\t\t\tthis.currentNumber += 0.05;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentNumber = 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ctx.drawImage(this.imgUrl, this.imgX, this.imgY, this.imgWidth * this.currentNumber, this\r\n\t\t\t\t\t.imgHeight * this.currentNumber)\r\n\t\t\t\tthis.ctx.draw() //绘制\r\n\t\t\t\tthis.setBgBox()\r\n\t\t\t},\r\n\t\t\tshrink() {\r\n\t\t\t\tif (this.currentNumber >= 0.7) {\r\n\t\t\t\t\tthis.currentNumber -= 0.05;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.currentNumber = 1;\r\n\t\t\t\t}\r\n\t\t\t\tthis.ctx.drawImage(this.imgUrl, this.imgX, this.imgY, this.imgWidth * this.currentNumber, this\r\n\t\t\t\t\t.imgHeight * this.currentNumber)\r\n\t\t\t\tthis.ctx.draw() //绘制\r\n\t\t\t\tthis.setBgBox()\r\n\t\t\t},\r\n\t\t\t// 控制宽高设置栏的出现\r\n\t\t\tset() {\r\n\t\t\t\tthis.setShow = true\r\n\t\t\t},\r\n\t\t\t// 确定压缩尺寸\r\n\t\t\tclipImage() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '修改尺寸',\r\n\t\t\t\t\tcontent: '观看广告，解锁修改尺寸功能',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t// this.customRewardUser()\r\n\t\t\t\t\t\t\tthis.rewardAd.init()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync clipSize() {\r\n\t\t\t\tawait this.clipImage()\r\n\t\t\t},\r\n\t\t\tcustomRewardUser() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '保存中'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\tcanvasId: 'myCanvas',\r\n\t\t\t\t\t\tx: this.cropX,\r\n\t\t\t\t\t\ty: this.cropY,\r\n\t\t\t\t\t\twidth: this.cropWidth,\r\n\t\t\t\t\t\theight: this.cropHeight,\r\n\t\t\t\t\t\tfileType: this.fileType,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: \"上传中\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl:  this.$store.state.baseUrl +\r\n\t\t\t\t\t\t\t\t\t'/ms111/compress/ms111/postImage',\r\n\t\t\t\t\t\t\t\tfilePath: res.tempFilePath,\r\n\t\t\t\t\t\t\t\tname: 'multipartFiles',\r\n\t\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t\t\"height\": this.imgHeight,\r\n\t\t\t\t\t\t\t\t\t\"width\": this.imgWidth\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tthis.clipUrl = JSON.parse(\r\n\t\t\t\t\t\t\t\t\t\tres.data).msg;\r\n\t\t\t\t\t\t\t\t\tthis.putSizeApi(JSON\r\n\t\t\t\t\t\t\t\t\t\t.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\t\"dpi\": this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.form.dpi,\r\n\t\t\t\t\t\t\t\t\t\t\t\"format\": this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.formatNew,\r\n\t\t\t\t\t\t\t\t\t\t\t\"heightpx\": this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.form\r\n\t\t\t\t\t\t\t\t\t\t\t\t.height,\r\n\t\t\t\t\t\t\t\t\t\t\t\"imagePath\": this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.clipUrl,\r\n\t\t\t\t\t\t\t\t\t\t\t\"widthpx\": this\r\n\t\t\t\t\t\t\t\t\t\t\t\t.form.width\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 点击jpg格式\r\n\t\t\tjpgClick() {\r\n\t\t\t\tthis.isClick = false\r\n\t\t\t\tthis.fileType = 'jpg'\r\n\t\t\t\tthis.formatNew = 1\r\n\t\t\t},\r\n\t\t\t// 点击png格式\r\n\t\t\tpngClick() {\r\n\t\t\t\tthis.isClick = true\r\n\t\t\t\tthis.fileType = 'png'\r\n\t\t\t\tthis.formatNew = 2\r\n\t\t\t},\r\n\t\t\t// 获取热门规格\r\n\t\t\tgetDataApi() {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tgetData({\r\n\t\t\t\t\t\tisHot: 1\r\n\t\t\t\t\t}).then((res) => {\r\n\t\t\t\t\t\tthis.sizeArr = res.data.map(i => ({\r\n\t\t\t\t\t\t\t...i,\r\n\t\t\t\t\t\t\tisChecked: false,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 点击单个\r\n\t\t\tchangeChecked(item, index) {\r\n\t\t\t\tif (item.imageName == \"点击自定义\") {\r\n\t\t\t\t\tthis.setShow = true\r\n\t\t\t\t\tthis.form.width = ''\r\n\t\t\t\t\tthis.form.height = ''\r\n\t\t\t\t\tthis.form.dpi = ''\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.form.width = item.widthpx\r\n\t\t\t\t\tthis.form.height = item.heightpx\r\n\t\t\t\t\tthis.form.dpi = item.dpi\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i = 0; i < this.sizeArr.length; i++) {\r\n\t\t\t\t\tthis.$set(this.sizeArr, i, {\r\n\t\t\t\t\t\t...this.sizeArr[i],\r\n\t\t\t\t\t\tisChecked: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t//修改裁剪框大小\r\n\t\t\t\tthis.handleCrop(item.widthpx, item.heightpx)\r\n\t\t\t\tthis.setBgBox()\r\n\t\t\t\tthis.$set(this.sizeArr, index, {\r\n\t\t\t\t\t...this.sizeArr[index],\r\n\t\t\t\t\tisChecked: true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 宽高设置的取消按钮\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.setShow = false\r\n\t\t\t},\r\n\t\t\t// 宽高设置的确定按钮\r\n\t\t\tsubmit() {\r\n\t\t\t\tconst widthInput = this.form.width;\r\n\t\t\t\tconst heightInput = this.form.height;\r\n\t\t\t\tconst dpiInput = this.form.dpi;\r\n\t\t\t\tif (widthInput == \"\" || heightInput == \"\" || dpiInput == \"\") {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请输入正确值\",\r\n\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numberPattern = /^\\d+$/;\r\n\t\t\t\t\tif (!numberPattern.test(widthInput) || !numberPattern.test(heightInput) || !numberPattern.test(\r\n\t\t\t\t\t\t\tdpiInput)) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"请只输入数字\",\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setShow = false\r\n\t\t\t\t\t\tthis.$refs.uForm.validate().then(res => {\r\n\t\t\t\t\t\t\tconsole.log('验证通过');\r\n\t\t\t\t\t\t\tthis.handleCrop(Number(this.form.width), Number(this.form.height))\r\n\t\t\t\t\t\t\tthis.setBgBox()\r\n\t\t\t\t\t\t\tfor (let i = 0; i < this.sizeArr.length; i++) {\r\n\t\t\t\t\t\t\t\tif (i == this.defineIndex) {\r\n\t\t\t\t\t\t\t\t\tthis.sizeArr.splice(this.defineIndex, 1, {\r\n\t\t\t\t\t\t\t\t\t\timageName: '点击自定义',\r\n\t\t\t\t\t\t\t\t\t\twidthpx: Number(this.form.width),\r\n\t\t\t\t\t\t\t\t\t\theightpx: Number(this.form.height),\r\n\t\t\t\t\t\t\t\t\t\twidth: \"\",\r\n\t\t\t\t\t\t\t\t\t\theight: \"\",\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.sizeArr, this.defineIndex, {\r\n\t\t\t\t\t\t\t\t\t\t...this.sizeArr[this.defineIndex],\r\n\t\t\t\t\t\t\t\t\t\tisChecked: true,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.sizeArr, i, {\r\n\t\t\t\t\t\t\t\t\t\t...this.sizeArr[i],\r\n\t\t\t\t\t\t\t\t\t\tisChecked: false\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}).catch(errors => {\r\n\t\t\t\t\t\t\tconsole.log('验证失败');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 修改规格尺寸\r\n\t\t\tputSizeApi(size) {\r\n\t\t\t\tputSize(size).then((res) => {\r\n\t\t\t\t\tthis.result = res.data\r\n\t\t\t\t\tuni.downloadFile({\r\n\t\t\t\t\t\turl:  this.$store.state.baseUrl + this.result,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tlet imgUrl = res.tempFilePath\r\n\t\t\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\t\t\tthis.getSet(imgUrl, this.result)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tdeleteImageApi(filePath) {\r\n\t\t\t\tdeleteImage(filePath).then(res => {}).catch((err => {\r\n\t\t\t\t\tconsole.log(err, 111);\r\n\t\t\t\t}))\r\n\t\t\t},\r\n\t\t\tsaveImage(url, filePath) {\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t//图片路径，不支持网络图片路径\r\n\t\t\t\t\tfilePath: url,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.deleteImageApi(filePath)\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tconsole.log(res.errMsg);\r\n\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"请重新保存\",\r\n\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: (res) => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetSet(imgUrl, filePath) {\r\n\t\t\t\tuni.getSetting({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t//  #ifndef MP-TOUTIAO\r\n\t\t\t\t\t\tif (!res.authSetting[\r\n\t\t\t\t\t\t\t\t\"scope.writePhotosAlbum\"]) {\r\n\t\t\t\t\t\t\t//向用户发起授权请求\r\n\t\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\t\tscope: \"scope.writePhotosAlbum\",\r\n\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"保存成功！\",\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.saveImage(imgUrl, filePath)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t//授权失败\r\n\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"您已拒绝获取相册权限\",\r\n\t\t\t\t\t\t\t\t\t\tcontent: \"是否进入权限管理，调整授权？\",\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (\r\n\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res\r\n\t\t\t\t\t\t\t\t\t\t\t\t.confirm\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//调起客户端小程序设置界面，返回用户设置的操作结果。（重新让用户授权）\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.log(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.authSetting\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t\t\t\t\t\tres\r\n\t\t\t\t\t\t\t\t\t\t\t\t.cancel\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn uni\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"已取消！\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\t\t\tif (!res.authSetting[\r\n\t\t\t\t\t\t\t\t\"scope.album\"]) {\r\n\t\t\t\t\t\t\t//向用户发起授权请求\r\n\t\t\t\t\t\t\tuni.authorize({\r\n\t\t\t\t\t\t\t\tscope: \"scope.album\",\r\n\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\tthis.saveImage(imgUrl, filePath)\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t//授权失败\r\n\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: \"您已拒绝获取相册权限\",\r\n\t\t\t\t\t\t\t\t\t\tcontent: \"是否进入权限管理，调整授权？\",\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//调起客户端小程序设置界面，返回用户设置的操作结果。（重新让用户授权）\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.authSetting\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t\t\t\t\t\tres.cancel\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"已取消！\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t// 存在授权\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthis.saveImage(imgUrl, filePath)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 设置蒙层\r\n\t\t\tsetBgBox() {\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.screenWidth = res.windowWidth;\r\n\t\t\t\t\t\tconst ctx = uni.createCanvasContext('firstCanvas');\r\n\t\t\t\t\t\tthis.handleCrop(this.cropWidth, this.cropHeight)\r\n\t\t\t\t\t\tthis.cropX = (this.screenWidth - this.cropWidth) / 2\r\n\t\t\t\t\t\tthis.cropY = (this.screenHeight - this.cropHeight) / 2\r\n\t\t\t\t\t\t// 先清除矩形\r\n\t\t\t\t\t\tctx.clearRect(0, 0, this.screenWidth, this.screenHeight);\r\n\t\t\t\t\t\t//  #ifdef MP-KUAISHOU\r\n\t\t\t\t\t\tctx.textBaseline = 'normal'\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// 设置canvas透明度\r\n\t\t\t\t\t\t//  #ifndef MP-KUAISHOU\r\n\t\t\t\t\t\tctx.setGlobalAlpha(0.7);\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef MP-KUAISHOU\r\n\t\t\t\t\t\tctx.globalAlpha = 0.5;\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// 设置蒙层颜色\r\n\t\t\t\t\t\t//  #ifndef MP-KUAISHOU\r\n\t\t\t\t\t\tctx.setFillStyle('#000000');\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef MP-KUAISHOU\r\n\t\t\t\t\t\tctx.fillStyle = 'black';\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// 绘制蒙层 \r\n\t\t\t\t\t\tctx.fillRect(0, 0, this.screenWidth, this.screenHeight);\r\n\t\t\t\t\t\t// 基准框留白\r\n\t\t\t\t\t\tctx.clearRect(this.cropX, this.cropY, this.cropWidth, this\r\n\t\t\t\t\t\t\t.cropHeight);\r\n\t\t\t\t\t\t// 绘制基准框\r\n\t\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\t\t//  #ifndef MP-KUAISHOU\r\n\t\t\t\t\t\tctx.setStrokeStyle('#FFFFFF');\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t// #ifdef MP-KUAISHOU\r\n\t\t\t\t\t\tctx.strokeStyle = 'white';\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\tctx.strokeRect(this.cropX, this.cropY, this.cropWidth, this\r\n\t\t\t\t\t\t\t.cropHeight);\r\n\t\t\t\t\t\tctx.closePath();\r\n\t\t\t\t\t\tctx.draw();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t// 绘图方法\r\n\t\t\tdrawImage(url) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\tsrc: url,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tthat.imgWidth = res.width;\r\n\t\t\t\t\t\tthat.imgHeight = res.height;\r\n\t\t\t\t\t\t// 判断图片的宽与高\r\n\t\t\t\t\t\t// 宽边大\r\n\t\t\t\t\t\tif (that.imgWidth >= that.imgHeight) {\r\n\t\t\t\t\t\t\tif (that.imgWidth >= that.screenWidth) {\r\n\t\t\t\t\t\t\t\tlet scale = that.imgWidth / that.screenWidth\r\n\t\t\t\t\t\t\t\tthat.imgWidth = that.screenWidth\r\n\t\t\t\t\t\t\t\tthat.imgHeight = Math.ceil(that.imgHeight / scale)\r\n\t\t\t\t\t\t\t\tthat.imgX = 0\r\n\t\t\t\t\t\t\t\tthat.imgY = (that.screenHeight - that.imgHeight) / 2\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.imgX = (that.screenWidth - that.imgWidth) / 2\r\n\t\t\t\t\t\t\t\tthat.imgY = (that.screenHeight - that.imgHeight) / 2\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 高边大\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif (that.imgHeight >= that.screenHeight) {\r\n\t\t\t\t\t\t\t\tlet scale = that.imgHeight / that.screenHeight\r\n\t\t\t\t\t\t\t\tthat.imgHeight = that.screenHeight\r\n\t\t\t\t\t\t\t\tthat.imgWidth = Math.ceil(that.imgWidth / scale)\r\n\t\t\t\t\t\t\t\tthat.imgX = (that.screenWidth - that.imgWidth) / 2\r\n\t\t\t\t\t\t\t\tthat.imgY = 0\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthat.imgX = (that.screenWidth - that.imgWidth) / 2\r\n\t\t\t\t\t\t\t\tthat.imgY = (that.screenHeight - that.imgHeight) / 2\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.ctx.drawImage(res.path, that.imgX, that.imgY, that.imgWidth * that.currentNumber,\r\n\t\t\t\t\t\t\tthat.imgHeight * that.currentNumber)\r\n\t\t\t\t\t\tthat.ctx.draw() //绘制\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\thandleTouchStart(e) {\r\n\t\t\t\tif (!this.isMoving) {\r\n\t\t\t\t\tthis.startX = e.touches[0].pageX;\r\n\t\t\t\t\tthis.startY = e.touches[0].pageY;\r\n\t\t\t\t\tthis.isMoving = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\thandleTouchMove(e) {\r\n\t\t\t\tif (this.isMoving) {\r\n\t\t\t\t\tconst moveX = e.touches[0].pageX - this.startX;\r\n\t\t\t\t\tconst moveY = e.touches[0].pageY - this.startY;\r\n\t\t\t\t\tthis.imgX += moveX;\r\n\t\t\t\t\tthis.imgY += moveY;\r\n\t\t\t\t\tthis.startX = e.touches[0].pageX;\r\n\t\t\t\t\tthis.startY = e.touches[0].pageY;\r\n\t\t\t\t\tif (this.imgX >= this.cropX) {\r\n\t\t\t\t\t\tthis.imgX = this.cropX\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.imgY >= this.cropY) {\r\n\t\t\t\t\t\tthis.imgY = this.cropY\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.imgX <= this.cropWidth + this.cropX - this.imgWidth * this.currentNumber) {\r\n\t\t\t\t\t\tthis.imgX = this.cropWidth + this.cropX - this.imgWidth * this.currentNumber\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.imgY <= this.cropHeight + this.cropY - this.imgHeight * this.currentNumber) {\r\n\t\t\t\t\t\tthis.imgY = this.cropHeight + this.cropY - this.imgHeight * this.currentNumber\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.ctx.drawImage(this.imgUrl, this.imgX, this.imgY, this.imgWidth * this.currentNumber, this\r\n\t\t\t\t\t\t.imgHeight * this.currentNumber)\r\n\t\t\t\t\tthis.ctx.draw() //绘制\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleTouchEnd() {\r\n\t\t\t\tthis.isMoving = false;\r\n\t\t\t},\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t//  #ifndef MP-QQ\r\n\t\t\tthis.rewardAd.destroyAllAd();\r\n\t\t\t// #endif\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: relative;\r\n\r\n\r\n\t\t.button-container {\r\n\t\t\twidth: 90%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin: 30rpx 0;\r\n\t\t\t// #ifdef MP-KUAISHOU\r\n\t\t\tmargin: 10rpx 0;\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n\r\n\t.left-button-container {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twidth: 60%;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.left-button-functionContainer {\r\n\t\twidth: 55%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t// 滚动事件\r\n\t// 容器\r\n\t.scroll-view {\r\n\t\twidth: 95%;\r\n\t\tdisplay: flex;\r\n\t\twhite-space: nowrap;\r\n\t\theight: 200rpx;\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t// #ifdef MP-KUAISHOU\r\n\t\theight: 200rpx;\r\n\t\tmargin-bottom: 0;\r\n\r\n\t\t// #endif\r\n\t\t.single-sizeContainer {\r\n\t\t\twidth: 230rpx;\r\n\t\t\theight: 200rpx;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tposition: relative;\r\n\t\t\tmargin-right: 30rpx;\r\n\t\t\tbackground-color: #dddfe2;\r\n\t\t\tborder-radius: 15rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.button-bottomContainer {\r\n\t\twidth: 95%;\r\n\t\theight: 80rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-top: 30rpx;\r\n\t\tmargin-bottom: 50rpx;\r\n\t}\r\n\r\n\t.device {\r\n\t\twidth: 90%;\r\n\t\theight: 500rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\ttop: 62%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tborder-radius: 20rpx;\r\n\t\tposition: fixed;\r\n\r\n\t\t.device-contentContainer {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 400rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.device-content {\r\n\t\t\t\twidth: 80%;\r\n\t\t\t\theight: 400rpx;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translateX(-50%) translateY(-50%);\r\n\t\t\t\tbackground-color: white;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tborder-radius: 30rpx;\r\n\r\n\t\t\t\t.device-single {\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\tline-height: 50rpx;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tmargin-top: 30rpx;\r\n\t\t\t\t\t// #ifdef MP-KUAISHOU\r\n\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t.device-format {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\ttop: 50%;\r\n\t\t\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 点击jpg和png时的样式切换\r\n\t.click {\r\n\t\tmargin-left: 30rpx;\r\n\t\twidth: 70rpx;\r\n\t\theight: 60rpx;\r\n\t\tcolor: white;\r\n\t\tbackground-color: #3c9cff;\r\n\t\ttext-align: center;\r\n\t\tline-height: 60rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\t// #ifdef MP-TOUTIAO\r\n\t\twidth: 86rpx;\r\n\t\theight: 76rpx;\r\n\t\tline-height: 68rpx;\r\n\t\t// #endif\r\n\t}\r\n\r\n\t.unclick {\r\n\t\twidth: 70rpx;\r\n\t\theight: 60rpx;\r\n\t\tcolor: #3c9cff;\r\n\t\tborder: 2rpx solid #9acafc;\r\n\t\tbox-sizing: border-box;\r\n\t\ttext-align: center;\r\n\t\tline-height: 55rpx;\r\n\t\tmargin-left: 30rpx;\r\n\t\t// #ifdef MP-TOUTIAO\r\n\t\twidth: 86rpx;\r\n\t\theight: 76rpx;\r\n\t\tline-height: 68rpx;\r\n\t\t// #endif\r\n\t}\r\n\r\n\t.buttonContent {\r\n\t\tdisplay: flex;\r\n\t\tposition: absolute;\r\n\t\twidth: 90%;\r\n\t\tjustify-content: space-between;\r\n\t\ttransform: translateX(-50%);\r\n\t\tleft: 50%;\r\n\t\tbottom: 2%;\r\n\t}\r\n\r\n\t::v-deep .u-form-item__body {\r\n\t\tpadding-left: 20rpx;\r\n\t\tpadding-right: 20rpx;\r\n\t}\r\n\r\n\t.settingHeadImage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative; // 确保裁剪框相对于父元素定位\r\n\t\tbackground-color: #000000;\r\n\t\toverflow: hidden;\r\n\r\n\r\n\t\t.pre-canvas {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 400px;\r\n\t\t\tposition: absolute; // 使用绝对定位\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tz-index: 15;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t.form-single {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\t// #ifdef MP-KUAISHOU\r\n\t\twidth: 440rpx;\r\n\t\t// #endif\r\n\r\n\t\t.gap {\r\n\r\n\t\t\t//#ifdef MP-TOUTIAO\r\n\t\t\tposition: absolute;\r\n\t\t\tright: -126rpx;\r\n\t\t\t// #endif\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t.remind {\r\n\t\twidth: 95%;\r\n\t\tfont-size: 20rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t::v-deep .u-form-item__body {\r\n\t\tpadding: 12rpx 0;\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=style&index=0&id=1b67bb40&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./modifySize.vue?vue&type=style&index=0&id=1b67bb40&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1731224386035\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}