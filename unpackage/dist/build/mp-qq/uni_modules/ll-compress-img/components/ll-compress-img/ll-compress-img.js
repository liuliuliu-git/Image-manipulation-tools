(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["uni_modules/ll-compress-img/components/ll-compress-img/ll-compress-img"],{"0938":function(n,t,e){"use strict";e.r(t);var o=e("56d1"),r=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(n){e.d(t,n,(function(){return o[n]}))}(i);t["default"]=r.a},"56d1":function(n,t,e){"use strict";(function(n){function e(n,t){var e="undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"===typeof n)return o(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(n,t)}(n))||t&&n&&"number"===typeof n.length){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,a=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return u=n.done,n},e:function(n){a=!0,c=n},f:function(){try{u||null==e.return||e.return()}finally{if(a)throw c}}}}function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=n[e];return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={data:function(){return{style:null,Canvas:"ll_canvas_img",type:null,num:0,count:-1}},methods:{process_img:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jpg",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new Promise((function(c,u){e.count++,e.num++;var a=e.Canvas+e.count;n.getImageInfo({src:t,success:function(l){var s=l.width,f=l.height;e.style="margin-top: -".concat(f,"px; margin-left: -").concat(s,"px; width: ").concat(s,"px; height: ").concat(f,"px;"),setTimeout((function(){var l=n.createCanvasContext(a,e);l.clearRect(0,0,s,f),l.drawImage(t,0,0,s,f),l.draw(!1,(function(){n.canvasToTempFilePath({width:s,height:f,destWidth:s*i,destHeight:f*i,canvasId:a,fileType:r,quality:o,success:function(n){console.log("格式转换成功"),c(n.tempFilePath)},fail:function(n){console.log("格式转换失败"),u(n)}},e)}))}),100)}})}))},multiple_format_img:function(n){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jpg";return new Promise((function(i,c){var u,a=[],l=0,s=n.length,f=e(n);try{for(f.s();!(u=f.n()).done;){var h=u.value;t.process_img(h,o,r).then((function(n){a.push(n),l++,l==s&&i(a)})).catch((function(n){c(n)}))}}catch(d){f.e(d)}finally{f.f()}}))},compress_img:function(n){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jpg";return new Promise((function(r,i){t.type=o,t.process_img(n,.9,o).then((function(c){n=c,t.compress(n,e,o).then((function(n){console.log("压缩成功",n),r(n)})).catch((function(n){i(n)}))}))}))},multiple_compress_img:function(n){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jpg";return new Promise((function(i,c){var u,a=[],l=0,s=n.length,f=e(n);try{for(f.s();!(u=f.n()).done;){var h=u.value;t.compress_img(h,o,r).then((function(n){a.push(n),l++,l==s&&i(a)})).catch((function(n){c(n)}))}}catch(d){f.e(d)}finally{f.f()}}))},compress:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.9;return new Promise((function(c,u){n.getFileInfo({filePath:t,success:function(n){var a=n.size/1024;console.log("图片大小",a),a>o?e.process_img(t,.9,r,i).then((function(n){t=n,e.compress(t,o).then((function(n){c(n)})).catch((function(n){u(n)}))})).catch((function(n){u(n)})):c(t)}})}))}}};t.default=r}).call(this,e("7513")["default"])},c831:function(n,t,e){"use strict";e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return r})),e.d(t,"a",(function(){}));var o=function(){var n=this.$createElement;this._self._c},r=[]},e6a2:function(n,t,e){"use strict";e.r(t);var o=e("c831"),r=e("0938");for(var i in r)["default"].indexOf(i)<0&&function(n){e.d(t,n,(function(){return r[n]}))}(i);var c=e("828b"),u=Object(c["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=u.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'uni_modules/ll-compress-img/components/ll-compress-img/ll-compress-img-create-component',
    {
        'uni_modules/ll-compress-img/components/ll-compress-img/ll-compress-img-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('7513')['createComponent'](__webpack_require__("e6a2"))
        })
    },
    [['uni_modules/ll-compress-img/components/ll-compress-img/ll-compress-img-create-component']]
]);
